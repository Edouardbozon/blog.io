(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{ACoY:function(t,e,i){"use strict";i.d(e,"a",function(){return s});const s=i("CQbg").b`
  .field {
    margin: 10px 0;
    font-family: 'IBM Plex Sans', sans-serif;
  }

  .field input,
  .field textarea,
  .field select {
    box-sizing: border-box;
    margin-top: 6px;
    display: inline-block;
    padding: 6px 4px;
    border-radius: 2px;
    background: transparent;
    border: 1px solid #666;
  }

  .field input,
  .field textarea {
    width: 100%;
  }

  .field input:focus,
  .field textarea:focus,
  .field select:focus {
    outline: 1px solid #666;
  }

  .label {
    font-size: 0.9rem;
  }
`},"RWR+":function(t,e,i){"use strict";i.r(e);var s=i("CQbg"),a=i("gvQ4");customElements.define("ez-admin",class extends s.a{render(){return s.c`
      <style>
        :host {
          display: block;
        }
      </style>
      <ez-page>
        <section class="section">
          <h1 class="title">Admin</h1>
          <a
            class="button is-primary block"
            href="/admin/draft"
            title="Start writing"
            @click=${Object(a.a)("/admin/draft")}
          >
            Start a new draft
          </a>
        </section>
        <ez-article-feed adminMode=${!0}></ez-article-feed>
      </ez-page>
    `}});var n=i("AaG5");
/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const r=t=>e=>(class extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=t.subscribe(()=>this.stateChanged(t.getState())),this.stateChanged(t.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(t){}});
/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var c=i("K9Ia"),o=i("mrSG"),l=i("FFOo");function u(t,e){return function(i){return i.lift(new d(t,e))}}var d=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.compare,this.keySelector))},t}(),h=function(t){function e(e,i,s){var a=t.call(this,e)||this;return a.keySelector=s,a.hasKey=!1,"function"==typeof i&&(a.compare=i),a}return o.b(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var i=this.keySelector;e=i?i(t):t}catch(t){return this.destination.error(t)}var s=!1;if(this.hasKey)try{s=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))},e}(l.a),p=i("+umK"),b=i("2Bdj");function f(t,e,i){return function(s){return s.lift(new g(t,e,i))}}var g=function(){function t(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}return t.prototype.call=function(t,e){return e.subscribe(new m(t,this.nextOrObserver,this.error,this.complete))},t}(),m=function(t){function e(e,i,s,a){var n=t.call(this,e)||this;return n._tapNext=p.a,n._tapError=p.a,n._tapComplete=p.a,n._tapError=s||p.a,n._tapComplete=a||p.a,Object(b.a)(i)?(n._context=n,n._tapNext=i):i&&(n._context=i,n._tapNext=i.next||p.a,n._tapError=i.error||p.a,n._tapComplete=i.complete||p.a),n}return o.b(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(l.a),v=i("h9Dq"),x=new(i("CS9Q").a)(v.a);function y(t,e){return void 0===e&&(e=x),function(i){return i.lift(new w(t,e))}}var w=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new C(t,this.dueTime,this.scheduler))},t}(),C=function(t){function e(e,i,s){var a=t.call(this,e)||this;return a.dueTime=i,a.scheduler=s,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return o.b(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(k,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(l.a);function k(t){t.debouncedNext()}var S=i("/PH2"),j=i("VnD/");var $=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.predicate))},t}(),O=function(t){function e(e,i){var s=t.call(this,e)||this;return s.predicate=i,s.skipping=!0,s.index=0,s}return o.b(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(l.a);function _(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}_.prototype=Object.create(Error.prototype);var q=_,P=i("G5J1");function D(t){return function(e){return 0===t?Object(P.a)():e.lift(new M(t))}}var M=function(){function t(t){if(this.total=t,this.total<0)throw new q}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.total))},t}(),R=function(t){function e(e,i){var s=t.call(this,e)||this;return s.total=i,s.count=0,s}return o.b(e,t),e.prototype._next=function(t){var e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))},e}(l.a);var T=i("60iU");function E(t,e){void 0===e&&(e=x);var i,s=(i=t)instanceof Date&&!isNaN(+i)?+t-e.now():Math.abs(t);return function(t){return t.lift(new N(s,e))}}var N=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.delay,this.scheduler))},t}(),U=function(t){function e(e,i,s){var a=t.call(this,e)||this;return a.delay=i,a.scheduler=s,a.queue=[],a.active=!1,a.errored=!1,a}return o.b(e,t),e.dispatch=function(t){for(var e=t.source,i=e.queue,s=t.scheduler,a=t.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(a);if(i.length>0){var n=Math.max(0,i[0].time-s.now());this.schedule(t,n)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,i=new z(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(T.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(T.a.createComplete()),this.unsubscribe()},e}(l.a),z=function(){return function(t,e){this.time=t,this.notification=e}}(),V=i("tSTB"),B=i("5W9+"),F=i("QQaa"),I=i("ACoY"),A=i("ibZA"),Q=i("YpuI"),K=i("fhiS"),L=i("6iyJ");customElements.define("ez-draft",class extends(r(B.a)(s.a)){constructor(){super(...arguments),this.markdownChangeSubject=new c.a,this.updateChangeSubject=new c.a,this.stateSubject=new c.a,this.state$=this.stateSubject.asObservable(),this.isRequestPending=!1,this.requestSubject=new c.a}stateChanged(t){this.state=t.admin,this.stateSubject.next(t.admin),this.requestUpdate("state")}firstUpdated(){this.initEditor(),this.markdownChangeSub=this.markdownChangeSubject.asObservable().pipe(u(),f(()=>{this.isRequestPending=!0,this.requestUpdate("isRequestPending")}),y(300)).subscribe(t=>{B.a.dispatch(Object(K.q)(t)),this.updateChangeSubject.next()}),this.updateChangeSub=this.updateChangeSubject.asObservable().pipe(f(()=>{this.isRequestPending=!0,this.requestUpdate("isRequestPending")}),y(300)).subscribe(()=>{this.requestSubject.next();const{draft:t}=this.state;this.isDraft()?B.a.dispatch(Object(Q.l)(t)):B.a.dispatch(Object(Q.q)(t))}),this.requestSub=this.requestSubject.asObservable().pipe(Object(S.a)(this.state$),Object(j.a)(([,t])=>!t.isRequestPending)).subscribe(()=>this.isRequestPending=!1)}disconnectedCallback(){this.markdownChangeSub.unsubscribe(),this.requestSub.unsubscribe(),this.updateChangeSub.unsubscribe(),B.a.dispatch(Object(Q.k)())}isDraft(){return"string"!=typeof this.state.id}handleMarkdownChange(t){const e=this.state.editor.value();this.markdownChangeSubject.next(e)}handleFile(t){t.preventDefault();const e=t.target;if(e.files instanceof FileList){const t=e.files.item(0),{slug:s}=this.state.draft;B.a.dispatch(Object(Q.s)({slug:s,file:t})),this.state$.pipe((i=t=>t.isRequestPending,function(t){return t.lift(new $(i))}),u((t,e)=>t.draft.posterUrl!==e.draft.posterUrl),D(1)).subscribe(()=>this.updateChangeSubject.next())}var i}togglePublish(){const{draft:t}=this.state;t.published?B.a.dispatch(Object(K.o)()):B.a.dispatch(Object(K.y)()),this.updateChangeSubject.next()}handleTagsChange(t){B.a.dispatch(Object(K.u)(t.target.value)),this.updateChangeSubject.next()}handleTitleChange(t){B.a.dispatch(Object(K.v)(t.target.value)),this.updateChangeSubject.next()}handleMetaTitleChange(t){B.a.dispatch(Object(K.s)(t.target.value)),this.updateChangeSubject.next()}handleMetaDescriptionChange(t){B.a.dispatch(Object(K.r)(t.target.value)),this.updateChangeSubject.next()}handleLangChange(t){B.a.dispatch(Object(K.p)(t.target.value)),this.updateChangeSubject.next()}handleSlugChange(t){B.a.dispatch(Object(K.t)(t.target.value)),this.updateChangeSubject.next()}handleRemovePoster(){B.a.dispatch(Object(K.z)()),this.updateChangeSubject.next()}initEditor(){this.isDraft()?B.a.dispatch(Object(K.w)(this.shadowRoot.getElementById("markdown"),"")):this.state$.pipe(Object(j.a)(t=>!t.loading),D(1),E(1)).subscribe(t=>{B.a.dispatch(Object(K.w)(this.shadowRoot.getElementById("markdown"),t.draft.markdown))})}static get styles(){return[L.a,F.a,I.a,s.b`
        :host {
          display: block;
        }

        .loading {
          padding-top: 5rem;
          text-align: center;
          color: #4f4f4f;
          font-family: 'IBM Plex Sans', Cambria, sans-serif;
        }

        .error {
          padding: 6px 4px;
          background: #dd4646;
          color: #fff;
          border-radius: 4px;
          text-align: center;
        }

        .columns {
          display: flex;
          justify-content: center;
        }

        .is-half {
          width: 50%;
          max-width: 740px;
        }

        .is-one-third {
          width: 25%;
          max-width: 400px;
          margin-right: 1rem;
        }

        .draft-configuration {
          position: sticky;
          top: 16px;
          margin-top: 26px;
          font-family: 'IBM Plex Sans', Cambria, sans-serif;
        }

        .cm-comment {
          font-family: 'Fira Code', 'Fira Mono', monospace;
        }

        .poster {
          height: 400px;
          background-position: center center;
          background-size: cover;
          background-color: #eee;
        }

        .right {
          float: right;
        }

        button svg {
          fill: #17a917;
          width: 22px;
          margin-right: 6px;
        }

        .field .button {
          width: 100%;
        }

        .loader {
          float: right;
        }
      `]}render(){const t=this.isDraft()?null:`/article/${this.state.draft.slug}`,{loading:e}=this.state;return s.c`
      <link
        href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
        rel="stylesheet"
      />
      <link href="assets/css/simplemde.css" rel="stylesheet" />
      <link href="assets/css/debug-simplemde.css" rel="stylesheet" />

      <ez-navbar></ez-navbar>
      <form
        @change="${this.handleMarkdownChange}"
        @input="${this.handleMarkdownChange}"
        @keydown="${this.handleMarkdownChange}"
      >
        ${e?s.c`
              <div class="loading">
                Initialisation de l'espace temps, <br />
                chargement de la matrice quantique, <br />
                décomposition de la matière.
              </div>
            `:s.c`
              <div>
                ${this.state.draft.posterUrl?s.c`
                      <div
                        class="poster"
                        style="background-image: url('${this.state.draft.posterUrl}')"
                      ></div>
                    `:n.f}
                <div class="container">
                  <div class="columns section">
                    <div class="column is-one-third">
                      ${s.c`
                        <div class="draft-configuration card">
                          <div class="card-content">
                            <div class="field">
                              <label class="label" for="title"
                                >Title
                                ${this.isRequestPending?s.c`
                                      <span class="loader">⌛️</span>
                                    `:s.c`
                                      <span class="loader">👌</span>
                                    `}
                              </label>
                              <input
                                id="title"
                                name="title"
                                class="input"
                                value="${this.state.draft.title}"
                                @input="${this.handleTitleChange}"
                                type="text"
                                required
                              />
                            </div>
                            <div class="field">
                              <label class="label" for="slug">Slug</label>
                              <input
                                id="slug"
                                name="slug"
                                class="input"
                                value="${this.state.draft.slug||Object(A.a)(this.title)}"
                                @input="${this.handleSlugChange}"
                                type="text"
                                required
                              />
                            </div>
                            <div class="field">
                              <label class="label" for="tags">Tags</label>
                              <input
                                type="text"
                                class="input"
                                id="tags"
                                name="tags"
                                placeholder="architecture, test"
                                value="${this.state.draft.tags.toString()}"
                                @input="${this.handleTagsChange}"
                              />
                            </div>
                            <div class="field">
                              <label class="label" for="lang">Lang</label>
                              <div class="control">
                                <div class="select">
                                  <select required id="lang" @change="${this.handleLangChange}">
                                    ${[V.a.FR,V.a.EN].map(t=>s.c`
                                        <option
                                          value="${t}"
                                          ?selected="${t===this.state.draft.lang}"
                                          >${t}</option
                                        >
                                      `)}
                                  </select>
                                </div>
                              </div>
                            </div>
                            <div class="field">
                              <label class="label" for="poster">Poster</label>
                              <input
                                type="file"
                                id="poster"
                                class="input"
                                value="${this.state.draft.posterUrl}"
                                name="poster"
                                accept="image/png, image/jpeg, image/gif"
                                @input="${this.handleFile}"
                              />
                            </div>
                            <div class="field">
                              <button
                                class="button is-warning"
                                ?disabled=${!this.state.draft.posterUrl||this.isDraft()}
                                @click="${this.handleRemovePoster}"
                              >
                                Supprimer le poster
                              </button>
                            </div>
                            <div class="field">
                              <label class="label" for="title">Meta title</label>
                              <input
                                id="metaTitle"
                                name="metaTitle"
                                value="${this.state.draft.metaTitle||""}"
                                @input="${this.handleMetaTitleChange}"
                                class="input"
                                type="text"
                              />
                            </div>
                            <div class="field">
                              <label class="label" for="metaDescription">Meta description</label>
                              <input
                                id="metaDescription"
                                name="metaDescription"
                                @input="${this.handleMetaDescriptionChange}"
                                class="input"
                                value="${this.state.draft.metaDescription||""}"
                                type="text"
                              />
                            </div>
                            <div class="field">
                              <button
                                type="button"
                                class="button is-block"
                                @click="${()=>this.updateChangeSubject.next()}"
                              >
                                ✓ Sauvegarder
                              </button>
                            </div>
                            <div class="field">
                              <button
                                type="button"
                                class="button is-block ${this.state.draft.published?"is-warning":"is-info"}"
                                @click="${this.togglePublish}"
                                ?disabled=${this.isDraft()}
                              >
                                ${this.state.draft.published?"🔒 Dépublier":"🔓 Publier"}
                              </button>
                            </div>
                            <div class="field">
                              ${this.state.id?s.c`
                                    <a
                                      class="button is-primary is-block"
                                      href="${t}"
                                      title="Lire ${this.state.draft.title}"
                                      @click="${Object(a.a)(t)}"
                                    >
                                      👁 Prévisualisation
                                    </a>
                                  `:n.f}
                            </div>
                            ${this.state.error?s.c`
                                  <div class="field error">
                                    ${this.state.error}
                                  </div>
                                `:n.f}
                          </div>
                        </div>
                      `}
                    </div>
                    <div class="column is-half">
                      <h1 class="title">
                        ${this.state.draft.title}
                      </h1>
                      <textarea
                        id="markdown"
                        name="markdown"
                        type="text"
                        rows="20"
                        cols="70"
                      ></textarea>
                    </div>
                  </div>
                </div>
              </div>
            `}
      </form>
    `}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NoYXJlZC9mb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9hZG1pbi5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3B3YS1oZWxwZXJzL2Nvbm5lY3QtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90YXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBXaGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90YWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYWRtaW4vZHJhZnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJkIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImZvcm1TdHlsZSIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwibGl0X2VsZW1lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJPYmplY3QiLCJ1dGlsc19uYXZpZ2F0ZSIsImNvbm5lY3QiLCJzdG9yZSIsImJhc2VFbGVtZW50Iiwic3VwZXIiLCJjb25uZWN0ZWRDYWxsYmFjayIsInRoaXMiLCJfc3RvcmVVbnN1YnNjcmliZSIsInN1YnNjcmliZSIsInN0YXRlQ2hhbmdlZCIsImdldFN0YXRlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJfc3RhdGUiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZCIsImNvbXBhcmUiLCJrZXlTZWxlY3RvciIsInNvdXJjZSIsImxpZnQiLCJEaXN0aW5jdFVudGlsQ2hhbmdlZE9wZXJhdG9yIiwicHJvdG90eXBlIiwiY2FsbCIsInN1YnNjcmliZXIiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZF9EaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIiLCJfc3VwZXIiLCJEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaGFzS2V5IiwidHNsaWJfZXM2IiwieCIsInkiLCJfbmV4dCIsInZhbHVlIiwia2V5IiwiZXJyIiwiZXJyb3IiLCJyZXN1bHQiLCJuZXh0IiwiU3Vic2NyaWJlciIsInRhcCIsIm5leHRPck9ic2VydmVyIiwiY29tcGxldGUiLCJEb09wZXJhdG9yIiwidGFwX1RhcFN1YnNjcmliZXIiLCJUYXBTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJfdGFwTmV4dCIsIm5vb3AiLCJfdGFwRXJyb3IiLCJfdGFwQ29tcGxldGUiLCJpc0Z1bmN0aW9uIiwiX2NvbnRleHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJhc3luY19hc3luYyIsIkFzeW5jQWN0aW9uIiwiZGVib3VuY2VUaW1lIiwiZHVlVGltZSIsInNjaGVkdWxlciIsIkRlYm91bmNlVGltZU9wZXJhdG9yIiwiZGVib3VuY2VUaW1lX0RlYm91bmNlVGltZVN1YnNjcmliZXIiLCJEZWJvdW5jZVRpbWVTdWJzY3JpYmVyIiwiZGVib3VuY2VkU3Vic2NyaXB0aW9uIiwibGFzdFZhbHVlIiwiaGFzVmFsdWUiLCJjbGVhckRlYm91bmNlIiwiYWRkIiwic2NoZWR1bGUiLCJkaXNwYXRjaE5leHQiLCJkZWJvdW5jZWROZXh0IiwicmVtb3ZlIiwidW5zdWJzY3JpYmUiLCJTa2lwV2hpbGVPcGVyYXRvciIsInByZWRpY2F0ZSIsInNraXBXaGlsZV9Ta2lwV2hpbGVTdWJzY3JpYmVyIiwiU2tpcFdoaWxlU3Vic2NyaWJlciIsInNraXBwaW5nIiwiaW5kZXgiLCJ0cnlDYWxsUHJlZGljYXRlIiwiQm9vbGVhbiIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCIsIkVycm9yIiwibWVzc2FnZSIsIm5hbWUiLCJjcmVhdGUiLCJBcmd1bWVudE91dE9mUmFuZ2VFcnJvciIsInRha2UiLCJjb3VudCIsImVtcHR5IiwidGFrZV9UYWtlT3BlcmF0b3IiLCJUYWtlT3BlcmF0b3IiLCJ0b3RhbCIsInRha2VfVGFrZVN1YnNjcmliZXIiLCJUYWtlU3Vic2NyaWJlciIsImRlbGF5X2RlbGF5IiwiZGVsYXkiLCJkZWxheUZvciIsIkRhdGUiLCJpc05hTiIsIm5vdyIsIk1hdGgiLCJhYnMiLCJEZWxheU9wZXJhdG9yIiwiZGVsYXlfRGVsYXlTdWJzY3JpYmVyIiwiRGVsYXlTdWJzY3JpYmVyIiwicXVldWUiLCJhY3RpdmUiLCJlcnJvcmVkIiwiZGlzcGF0Y2giLCJzdGF0ZSIsImxlbmd0aCIsInRpbWUiLCJzaGlmdCIsIm5vdGlmaWNhdGlvbiIsIm9ic2VydmUiLCJkZWxheV8xIiwibWF4IiwiX3NjaGVkdWxlIiwic2NoZWR1bGVOb3RpZmljYXRpb24iLCJEZWxheU1lc3NhZ2UiLCJwdXNoIiwiTm90aWZpY2F0aW9uIiwiY3JlYXRlTmV4dCIsImNyZWF0ZUNvbXBsZXRlIiwibWFya2Rvd25DaGFuZ2VTdWJqZWN0IiwiU3ViamVjdCIsInVwZGF0ZUNoYW5nZVN1YmplY3QiLCJzdGF0ZVN1YmplY3QiLCJzdGF0ZSQiLCJhc09ic2VydmFibGUiLCJpc1JlcXVlc3RQZW5kaW5nIiwicmVxdWVzdFN1YmplY3QiLCJhZG1pbiIsInJlcXVlc3RVcGRhdGUiLCJpbml0RWRpdG9yIiwibWFya2Rvd25DaGFuZ2VTdWIiLCJwaXBlIiwibWFya2Rvd24iLCJlZGl0b3JfYWN0aW9ucyIsInVwZGF0ZUNoYW5nZVN1YiIsImRyYWZ0IiwiaXNEcmFmdCIsImFwaV9hY3Rpb25zIiwicmVxdWVzdFN1YiIsIndpdGhMYXRlc3RGcm9tIiwiZmlsdGVyIiwiaWQiLCJfZXZlbnQiLCJlZGl0b3IiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJmaWxlcyIsIkZpbGVMaXN0IiwiZmlsZSIsIml0ZW0iLCJzbHVnIiwicHJldiIsInBvc3RlclVybCIsInB1Ymxpc2hlZCIsInNoYWRvd1Jvb3QiLCJnZXRFbGVtZW50QnlJZCIsImxvYWRpbmciLCJzdHlsZXMiLCJjYXJkIiwic2hhcmVkX2J1dHRvbiIsInNoYXJlZF9mb3JtIiwiYXJ0aWNsZVVyaSIsImhhbmRsZU1hcmtkb3duQ2hhbmdlIiwibGl0X2h0bWwiLCJ0aXRsZSIsImhhbmRsZVRpdGxlQ2hhbmdlIiwic2x1Z2lmeSIsImhhbmRsZVNsdWdDaGFuZ2UiLCJ0YWdzIiwidG9TdHJpbmciLCJoYW5kbGVUYWdzQ2hhbmdlIiwiaGFuZGxlTGFuZ0NoYW5nZSIsImFydGljbGVfbGFuZ3VhZ2UiLCJGUiIsIkVOIiwibWFwIiwibGFuZyIsImhhbmRsZUZpbGUiLCJoYW5kbGVSZW1vdmVQb3N0ZXIiLCJtZXRhVGl0bGUiLCJoYW5kbGVNZXRhVGl0bGVDaGFuZ2UiLCJoYW5kbGVNZXRhRGVzY3JpcHRpb25DaGFuZ2UiLCJtZXRhRGVzY3JpcHRpb24iLCJ0b2dnbGVQdWJsaXNoIl0sIm1hcHBpbmdzIjoiMkZBQUFBLEVBQUFDLEVBQUFDLEVBQUEsc0JBQUFDLElBRU8sTUFBTUEsRUFGYkgsRUFBQSxRQUV5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEVDNEJ6QkksZUFBZUMsT0FBTyxXQTFCUCxjQUFvQkMsRUFBQSxFQUNqQ0MsU0FDRSxPQUFPRCxFQUFBOzs7Ozs7Ozs7Ozs7O3FCQWFVRSxPQUFBQyxFQUFBLEVBQUFELENBQVM7Ozs7O3NDQUtPOzs7Ozs7Ozs7OztFQ0E5QixNQUFBRSxFQUFBQyxHQUFBQyxJQUFBLGNBQUFBLEVBQ1BMLG9CQUNBTSxNQUFBQyxtQkFDQUQsTUFBQUMsb0JBRUFDLEtBQUFDLGtCQUFBTCxFQUFBTSxVQUFBLElBQUFGLEtBQUFHLGFBQUFQLEVBQUFRLGFBQ0FKLEtBQUFHLGFBQUFQLEVBQUFRLFlBRUFaLHVCQUNBUSxLQUFBQyxvQkFDQUgsTUFBQU8sc0JBQ0FQLE1BQUFPLHVCQU1BYixhQUFBYzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3Q0N0Q08sU0FBQUMsRUFBQUMsRUFBQUMsR0FDUCxnQkFBQUMsR0FBOEIsT0FBQUEsRUFBQUMsS0FBQSxJQUFBQyxFQUFBSixFQUFBQyxLQUU5QixJQUFBRyxFQUFBLFdBQ0EsU0FBQUEsRUFBQUosRUFBQUMsR0FDQVQsS0FBQVEsVUFDQVIsS0FBQVMsY0FLQSxPQUhBRyxFQUFBQyxVQUFBQyxLQUFBLFNBQUFDLEVBQUFMLEdBQ0EsT0FBQUEsRUFBQVIsVUFBQSxJQUFvQ2MsRUFBOEJELEVBQUFmLEtBQUFRLFFBQUFSLEtBQUFTLGVBRWxFRyxFQVJBLEdBVUlJLEVBQThCLFNBQUFDLEdBRWxDLFNBQUFDLEVBQUFDLEVBQUFYLEVBQUFDLEdBQ0EsSUFBQVcsRUFBQUgsRUFBQUgsS0FBQWQsS0FBQW1CLElBQUFuQixLQU1BLE9BTEFvQixFQUFBWCxjQUNBVyxFQUFBQyxRQUFBLEVBQ0EsbUJBQUFiLElBQ0FZLEVBQUFaLFdBRUFZLEVBZ0NBLE9BeENJRSxFQUFBLEVBQWlCSixFQUFBRCxHQVVyQkMsRUFBQUwsVUFBQUwsUUFBQSxTQUFBZSxFQUFBQyxHQUNBLE9BQUFELElBQUFDLEdBRUFOLEVBQUFMLFVBQUFZLE1BQUEsU0FBQUMsR0FDQSxJQUFBQyxFQUNBLElBQ0EsSUFBQWxCLEVBQUFULEtBQUFTLFlBQ0FrQixFQUFBbEIsSUFBQWlCLEtBRUEsTUFBQUUsR0FDQSxPQUFBNUIsS0FBQW1CLFlBQUFVLE1BQUFELEdBRUEsSUFBQUUsR0FBQSxFQUNBLEdBQUE5QixLQUFBcUIsT0FDQSxJQUVBUyxHQUFBdEIsRUFEQVIsS0FBQVEsU0FDQVIsS0FBQTJCLE9BRUEsTUFBQUMsR0FDQSxPQUFBNUIsS0FBQW1CLFlBQUFVLE1BQUFELFFBSUE1QixLQUFBcUIsUUFBQSxFQUVBUyxJQUNBOUIsS0FBQTJCLE1BQ0EzQixLQUFBbUIsWUFBQVksS0FBQUwsS0FHQVIsRUF6Q2tDLENBMENoQ2MsRUFBQSwyQkNyREssU0FBQUMsRUFBQUMsRUFBQUwsRUFBQU0sR0FDUCxnQkFBQXpCLEdBQ0EsT0FBQUEsRUFBQUMsS0FBQSxJQUFBeUIsRUFBQUYsRUFBQUwsRUFBQU0sS0FHQSxJQUFBQyxFQUFBLFdBQ0EsU0FBQUEsRUFBQUYsRUFBQUwsRUFBQU0sR0FDQW5DLEtBQUFrQyxpQkFDQWxDLEtBQUE2QixRQUNBN0IsS0FBQW1DLFdBS0EsT0FIQUMsRUFBQXZCLFVBQUFDLEtBQUEsU0FBQUMsRUFBQUwsR0FDQSxPQUFBQSxFQUFBUixVQUFBLElBQW9DbUMsRUFBYXRCLEVBQUFmLEtBQUFrQyxlQUFBbEMsS0FBQTZCLE1BQUE3QixLQUFBbUMsWUFFakRDLEVBVEEsR0FXSUMsRUFBYSxTQUFBcEIsR0FFakIsU0FBQXFCLEVBQUFuQixFQUFBb0IsRUFBQVYsRUFBQU0sR0FDQSxJQUFBZixFQUFBSCxFQUFBSCxLQUFBZCxLQUFBbUIsSUFBQW5CLEtBZ0JBLE9BZkFvQixFQUFBb0IsU0FBeUJDLEVBQUEsRUFDekJyQixFQUFBc0IsVUFBMEJELEVBQUEsRUFDMUJyQixFQUFBdUIsYUFBNkJGLEVBQUEsRUFDN0JyQixFQUFBc0IsVUFBQWIsR0FBbUNZLEVBQUEsRUFDbkNyQixFQUFBdUIsYUFBQVIsR0FBeUNNLEVBQUEsRUFDN0JoRCxPQUFBbUQsRUFBQSxFQUFBbkQsQ0FBVThDLElBQ3RCbkIsRUFBQXlCLFNBQUF6QixFQUNBQSxFQUFBb0IsU0FBQUQsR0FFQUEsSUFDQW5CLEVBQUF5QixTQUFBTixFQUNBbkIsRUFBQW9CLFNBQUFELEVBQUFSLE1BQW9EVSxFQUFBLEVBQ3BEckIsRUFBQXNCLFVBQUFILEVBQUFWLE9BQXNEWSxFQUFBLEVBQ3REckIsRUFBQXVCLGFBQUFKLEVBQUFKLFVBQTRETSxFQUFBLEdBRTVEckIsRUFnQ0EsT0FsRElFLEVBQUEsRUFBaUJnQixFQUFBckIsR0FvQnJCcUIsRUFBQXpCLFVBQUFZLE1BQUEsU0FBQUMsR0FDQSxJQUNBMUIsS0FBQXdDLFNBQUExQixLQUFBZCxLQUFBNkMsU0FBQW5CLEdBRUEsTUFBQUUsR0FFQSxZQURBNUIsS0FBQW1CLFlBQUFVLE1BQUFELEdBR0E1QixLQUFBbUIsWUFBQVksS0FBQUwsSUFFQVksRUFBQXpCLFVBQUFpQyxPQUFBLFNBQUFsQixHQUNBLElBQ0E1QixLQUFBMEMsVUFBQTVCLEtBQUFkLEtBQUE2QyxTQUFBakIsR0FFQSxNQUFBQSxHQUVBLFlBREE1QixLQUFBbUIsWUFBQVUsTUFBQUQsR0FHQTVCLEtBQUFtQixZQUFBVSxNQUFBRCxJQUVBVSxFQUFBekIsVUFBQWtDLFVBQUEsV0FDQSxJQUNBL0MsS0FBQTJDLGFBQUE3QixLQUFBZCxLQUFBNkMsVUFFQSxNQUFBakIsR0FFQSxZQURBNUIsS0FBQW1CLFlBQUFVLE1BQUFELEdBR0EsT0FBQTVCLEtBQUFtQixZQUFBZ0IsWUFFQUcsRUFuRGlCLENBb0RmTixFQUFBLGVDdEVTZ0IsRUFBSyxjQUFxQixHQUFlQyxFQUFBLEdDQzdDLFNBQUFDLEVBQUFDLEVBQUFDLEdBSVAsWUFIQSxJQUFBQSxJQUNBQSxFQUFvQkosR0FFcEIsU0FBQXRDLEdBQThCLE9BQUFBLEVBQUFDLEtBQUEsSUFBQTBDLEVBQUFGLEVBQUFDLEtBRTlCLElBQUFDLEVBQUEsV0FDQSxTQUFBQSxFQUFBRixFQUFBQyxHQUNBcEQsS0FBQW1ELFVBQ0FuRCxLQUFBb0QsWUFLQSxPQUhBQyxFQUFBeEMsVUFBQUMsS0FBQSxTQUFBQyxFQUFBTCxHQUNBLE9BQUFBLEVBQUFSLFVBQUEsSUFBb0NvRCxFQUFzQnZDLEVBQUFmLEtBQUFtRCxRQUFBbkQsS0FBQW9ELGFBRTFEQyxFQVJBLEdBVUlDLEVBQXNCLFNBQUFyQyxHQUUxQixTQUFBc0MsRUFBQXBDLEVBQUFnQyxFQUFBQyxHQUNBLElBQUFoQyxFQUFBSCxFQUFBSCxLQUFBZCxLQUFBbUIsSUFBQW5CLEtBTUEsT0FMQW9CLEVBQUErQixVQUNBL0IsRUFBQWdDLFlBQ0FoQyxFQUFBb0Msc0JBQUEsS0FDQXBDLEVBQUFxQyxVQUFBLEtBQ0FyQyxFQUFBc0MsVUFBQSxFQUNBdEMsRUE2QkEsT0FyQ0lFLEVBQUEsRUFBaUJpQyxFQUFBdEMsR0FVckJzQyxFQUFBMUMsVUFBQVksTUFBQSxTQUFBQyxHQUNBMUIsS0FBQTJELGdCQUNBM0QsS0FBQXlELFVBQUEvQixFQUNBMUIsS0FBQTBELFVBQUEsRUFDQTFELEtBQUE0RCxJQUFBNUQsS0FBQXdELHNCQUFBeEQsS0FBQW9ELFVBQUFTLFNBQUFDLEVBQUE5RCxLQUFBbUQsUUFBQW5ELFFBRUF1RCxFQUFBMUMsVUFBQWtDLFVBQUEsV0FDQS9DLEtBQUErRCxnQkFDQS9ELEtBQUFtQixZQUFBZ0IsWUFFQW9CLEVBQUExQyxVQUFBa0QsY0FBQSxXQUVBLEdBREEvRCxLQUFBMkQsZ0JBQ0EzRCxLQUFBMEQsU0FBQSxDQUNBLElBQUFELEVBQUF6RCxLQUFBeUQsVUFDQXpELEtBQUF5RCxVQUFBLEtBQ0F6RCxLQUFBMEQsVUFBQSxFQUNBMUQsS0FBQW1CLFlBQUFZLEtBQUEwQixLQUdBRixFQUFBMUMsVUFBQThDLGNBQUEsV0FDQSxJQUFBSCxFQUFBeEQsS0FBQXdELHNCQUNBLE9BQUFBLElBQ0F4RCxLQUFBZ0UsT0FBQVIsR0FDQUEsRUFBQVMsY0FDQWpFLEtBQUF3RCxzQkFBQSxPQUdBRCxFQXRDMEIsQ0F1Q3hCdkIsRUFBQSxHQUNGLFNBQUE4QixFQUFBL0MsR0FDQUEsRUFBQWdELDRDQ3ZEQSxJQUFBRyxFQUFBLFdBQ0EsU0FBQUEsRUFBQUMsR0FDQW5FLEtBQUFtRSxZQUtBLE9BSEFELEVBQUFyRCxVQUFBQyxLQUFBLFNBQUFDLEVBQUFMLEdBQ0EsT0FBQUEsRUFBQVIsVUFBQSxJQUFvQ2tFLEVBQW1CckQsRUFBQWYsS0FBQW1FLGFBRXZERCxFQVBBLEdBU0lFLEVBQW1CLFNBQUFuRCxHQUV2QixTQUFBb0QsRUFBQWxELEVBQUFnRCxHQUNBLElBQUEvQyxFQUFBSCxFQUFBSCxLQUFBZCxLQUFBbUIsSUFBQW5CLEtBSUEsT0FIQW9CLEVBQUErQyxZQUNBL0MsRUFBQWtELFVBQUEsRUFDQWxELEVBQUFtRCxNQUFBLEVBQ0FuRCxFQW9CQSxPQTFCSUUsRUFBQSxFQUFpQitDLEVBQUFwRCxHQVFyQm9ELEVBQUF4RCxVQUFBWSxNQUFBLFNBQUFDLEdBQ0EsSUFBQVAsRUFBQW5CLEtBQUFtQixZQUNBbkIsS0FBQXNFLFVBQ0F0RSxLQUFBd0UsaUJBQUE5QyxHQUVBMUIsS0FBQXNFLFVBQ0FuRCxFQUFBWSxLQUFBTCxJQUdBMkMsRUFBQXhELFVBQUEyRCxpQkFBQSxTQUFBOUMsR0FDQSxJQUNBLElBQUFJLEVBQUE5QixLQUFBbUUsVUFBQXpDLEVBQUExQixLQUFBdUUsU0FDQXZFLEtBQUFzRSxTQUFBRyxRQUFBM0MsR0FFQSxNQUFBRixHQUNBNUIsS0FBQW1CLFlBQUFVLE1BQUFELEtBR0F5QyxFQTNCdUIsQ0E0QnJCckMsRUFBQSxHQzFDRixTQUFBMEMsSUFJQSxPQUhBQyxNQUFBN0QsS0FBQWQsTUFDQUEsS0FBQTRFLFFBQUEsd0JBQ0E1RSxLQUFBNkUsS0FBQSwwQkFDQTdFLEtBRUEwRSxFQUFBN0QsVUFBQXBCLE9BQUFxRixPQUFBSCxNQUFBOUQsV0FDTyxJQUFBa0UsRUFBQUwsY0NIQSxTQUFBTSxFQUFBQyxHQUNQLGdCQUFBdkUsR0FDQSxXQUFBdUUsRUFDbUJ4RixPQUFBeUYsRUFBQSxFQUFBekYsR0FHbkJpQixFQUFBQyxLQUFBLElBQW1Dd0UsRUFBWUYsS0FJL0MsSUFBSUUsRUFBWSxXQUNoQixTQUFBQyxFQUFBQyxHQUVBLEdBREFyRixLQUFBcUYsUUFDQXJGLEtBQUFxRixNQUFBLEVBQ0EsVUFBc0JOLEVBTXRCLE9BSEFLLEVBQUF2RSxVQUFBQyxLQUFBLFNBQUFDLEVBQUFMLEdBQ0EsT0FBQUEsRUFBQVIsVUFBQSxJQUFvQ29GLEVBQWN2RSxFQUFBZixLQUFBcUYsU0FFbERELEVBVmdCLEdBWVpFLEVBQWMsU0FBQXJFLEdBRWxCLFNBQUFzRSxFQUFBcEUsRUFBQWtFLEdBQ0EsSUFBQWpFLEVBQUFILEVBQUFILEtBQUFkLEtBQUFtQixJQUFBbkIsS0FHQSxPQUZBb0IsRUFBQWlFLFFBQ0FqRSxFQUFBNkQsTUFBQSxFQUNBN0QsRUFhQSxPQWxCSUUsRUFBQSxFQUFpQmlFLEVBQUF0RSxHQU9yQnNFLEVBQUExRSxVQUFBWSxNQUFBLFNBQUFDLEdBQ0EsSUFBQTJELEVBQUFyRixLQUFBcUYsTUFDQUosSUFBQWpGLEtBQUFpRixNQUNBQSxHQUFBSSxJQUNBckYsS0FBQW1CLFlBQUFZLEtBQUFMLEdBQ0F1RCxJQUFBSSxJQUNBckYsS0FBQW1CLFlBQUFnQixXQUNBbkMsS0FBQWlFLGlCQUlBc0IsRUFuQmtCLENBb0JoQnZELEVBQUEsbUJDekNLLFNBQVN3RCxFQUFLQyxFQUFBckMsUUFDckIsSUFBQUEsSUFDQUEsRUFBb0JKLEdBRXBCLElDVE90QixFRFVQZ0UsR0NWT2hFLEVEU3VCK0QsYUNSOUJFLE9BQUFDLE9BQUFsRSxJRFNBK0QsRUFBQXJDLEVBQUF5QyxNQUFBQyxLQUFBQyxJQUFBTixHQUNBLGdCQUFBL0UsR0FBOEIsT0FBQUEsRUFBQUMsS0FBQSxJQUFBcUYsRUFBQU4sRUFBQXRDLEtBRTlCLElBQUE0QyxFQUFBLFdBQ0EsU0FBQUEsRUFBQVAsRUFBQXJDLEdBQ0FwRCxLQUFBeUYsUUFDQXpGLEtBQUFvRCxZQUtBLE9BSEE0QyxFQUFBbkYsVUFBQUMsS0FBQSxTQUFBQyxFQUFBTCxHQUNBLE9BQUFBLEVBQUFSLFVBQUEsSUFBb0MrRixFQUFlbEYsRUFBQWYsS0FBQXlGLE1BQUF6RixLQUFBb0QsYUFFbkQ0QyxFQVJBLEdBVUlDLEVBQWUsU0FBQWhGLEdBRW5CLFNBQUFpRixFQUFBL0UsRUFBQXNFLEVBQUFyQyxHQUNBLElBQUFoQyxFQUFBSCxFQUFBSCxLQUFBZCxLQUFBbUIsSUFBQW5CLEtBTUEsT0FMQW9CLEVBQUFxRSxRQUNBckUsRUFBQWdDLFlBQ0FoQyxFQUFBK0UsTUFBQSxHQUNBL0UsRUFBQWdGLFFBQUEsRUFDQWhGLEVBQUFpRixTQUFBLEVBQ0FqRixFQWtEQSxPQTFESUUsRUFBQSxFQUFpQjRFLEVBQUFqRixHQVVyQmlGLEVBQUFJLFNBQUEsU0FBQUMsR0FLQSxJQUpBLElBQUE3RixFQUFBNkYsRUFBQTdGLE9BQ0F5RixFQUFBekYsRUFBQXlGLE1BQ0EvQyxFQUFBbUQsRUFBQW5ELFVBQ0FqQyxFQUFBb0YsRUFBQXBGLFlBQ0FnRixFQUFBSyxPQUFBLEdBQUFMLEVBQUEsR0FBQU0sS0FBQXJELEVBQUF5QyxPQUFBLEdBQ0FNLEVBQUFPLFFBQUFDLGFBQUFDLFFBQUF6RixHQUVBLEdBQUFnRixFQUFBSyxPQUFBLEdBQ0EsSUFBQUssRUFBQWYsS0FBQWdCLElBQUEsRUFBQVgsRUFBQSxHQUFBTSxLQUFBckQsRUFBQXlDLE9BQ0E3RixLQUFBNkQsU0FBQTBDLEVBQUFNLFFBR0E3RyxLQUFBaUUsY0FDQXZELEVBQUEwRixRQUFBLEdBR0FGLEVBQUFyRixVQUFBa0csVUFBQSxTQUFBM0QsR0FDQXBELEtBQUFvRyxRQUFBLEVBQ0FwRyxLQUFBbUIsWUFDQXlDLElBQUFSLEVBQUFTLFNBQUFxQyxFQUFBSSxTQUFBdEcsS0FBQXlGLE1BQUEsQ0FDQS9FLE9BQUFWLEtBQUFtQixZQUFBbkIsS0FBQW1CLFlBQUFpQyxnQkFHQThDLEVBQUFyRixVQUFBbUcscUJBQUEsU0FBQUwsR0FDQSxRQUFBM0csS0FBQXFHLFFBQUEsQ0FHQSxJQUFBakQsRUFBQXBELEtBQUFvRCxVQUNBd0IsRUFBQSxJQUFBcUMsRUFBQTdELEVBQUF5QyxNQUFBN0YsS0FBQXlGLE1BQUFrQixHQUNBM0csS0FBQW1HLE1BQUFlLEtBQUF0QyxJQUNBLElBQUE1RSxLQUFBb0csUUFDQXBHLEtBQUErRyxVQUFBM0QsS0FHQThDLEVBQUFyRixVQUFBWSxNQUFBLFNBQUFDLEdBQ0ExQixLQUFBZ0gscUJBQWtDRyxFQUFBLEVBQVlDLFdBQUExRixLQUU5Q3dFLEVBQUFyRixVQUFBaUMsT0FBQSxTQUFBbEIsR0FDQTVCLEtBQUFxRyxTQUFBLEVBQ0FyRyxLQUFBbUcsTUFBQSxHQUNBbkcsS0FBQW1CLFlBQUFVLE1BQUFELEdBQ0E1QixLQUFBaUUsZUFFQWlDLEVBQUFyRixVQUFBa0MsVUFBQSxXQUNBL0MsS0FBQWdILHFCQUFrQ0csRUFBQSxFQUFZRSxrQkFDOUNySCxLQUFBaUUsZUFFQWlDLEVBM0RtQixDQTREakJsRSxFQUFBLEdBQ0ZpRixFQUFBLFdBS0EsT0FKQSxTQUFBUixFQUFBRSxHQUNBM0csS0FBQXlHLE9BQ0F6RyxLQUFBMkcsZ0JBSEEsbUdFcWFBdEgsZUFBZUMsT0FBTyxXQWxkUCxjQUE2QkssRUFBUUMsRUFBQSxFQUFSRCxDQUFlSixFQUFBLElBQTNEQyxrQ0FDRVEsS0FBQXNILHNCQUF3QixJQUFJQyxFQUFBLEVBRzVCdkgsS0FBQXdILG9CQUFzQixJQUFJRCxFQUFBLEVBRzFCdkgsS0FBQXlILGFBQWUsSUFBSUYsRUFBQSxFQUNuQnZILEtBQUEwSCxPQUFTMUgsS0FBS3lILGFBQWFFLGVBRzNCM0gsS0FBQTRILGtCQUFtQixFQUNuQjVILEtBQUE2SCxlQUFpQixJQUFJTixFQUFBLEVBR3JCL0gsYUFBYStHLEdBQ1h2RyxLQUFLdUcsTUFBUUEsRUFBTXVCLE1BQ25COUgsS0FBS3lILGFBQWExRixLQUFLd0UsRUFBTXVCLE9BQzdCOUgsS0FBSytILGNBQWMsU0FHckJ2SSxlQUNFUSxLQUFLZ0ksYUFFTGhJLEtBQUtpSSxrQkFBb0JqSSxLQUFLc0gsc0JBQzNCSyxlQUNBTyxLQUNDM0gsSUFDQTBCLEVBQUksS0FDRmpDLEtBQUs0SCxrQkFBbUIsRUFDeEI1SCxLQUFLK0gsY0FBYyxzQkFFckI3RSxFQUFhLE1BRWRoRCxVQUFVaUksSUFDVHZJLEVBQUEsRUFBTTBHLFNBQVM3RyxPQUFBMkksRUFBQSxFQUFBM0ksQ0FBYTBJLElBQzVCbkksS0FBS3dILG9CQUFvQnpGLFNBRzdCL0IsS0FBS3FJLGdCQUFrQnJJLEtBQUt3SCxvQkFDekJHLGVBQ0FPLEtBQ0NqRyxFQUFJLEtBQ0ZqQyxLQUFLNEgsa0JBQW1CLEVBQ3hCNUgsS0FBSytILGNBQWMsc0JBRXJCN0UsRUFBYSxNQUVkaEQsVUFBVSxLQUNURixLQUFLNkgsZUFBZTlGLE9BQ3BCLE1BQU11RyxNQUFFQSxHQUFVdEksS0FBS3VHLE1BQ3ZCdkcsS0FBS3VJLFVBQ0QzSSxFQUFBLEVBQU0wRyxTQUFTN0csT0FBQStJLEVBQUEsRUFBQS9JLENBQVk2SSxJQUMzQjFJLEVBQUEsRUFBTTBHLFNBQVM3RyxPQUFBK0ksRUFBQSxFQUFBL0ksQ0FBWTZJLE1BR25DdEksS0FBS3lJLFdBQWF6SSxLQUFLNkgsZUFDcEJGLGVBQ0FPLEtBQ0N6SSxPQUFBaUosRUFBQSxFQUFBakosQ0FBZU8sS0FBSzBILFFBQ3BCakksT0FBQWtKLEVBQUEsRUFBQWxKLENBQU8sRUFBRSxDQUFFOEcsTUFBWUEsRUFBTXFCLG1CQUU5QjFILFVBQVUsSUFBT0YsS0FBSzRILGtCQUFtQixHQUc5Q3BJLHVCQUNFUSxLQUFLaUksa0JBQWtCaEUsY0FDdkJqRSxLQUFLeUksV0FBV3hFLGNBQ2hCakUsS0FBS3FJLGdCQUFnQnBFLGNBQ3JCckUsRUFBQSxFQUFNMEcsU0FBUzdHLE9BQUErSSxFQUFBLEVBQUEvSSxJQUdqQkQsVUFDRSxNQUFnQyxpQkFBbEJRLEtBQUt1RyxNQUFNcUMsR0FHM0JwSixxQkFBcUJxSixHQUNuQixNQUFNVixFQUFXbkksS0FBS3VHLE1BQU11QyxPQUFRcEgsUUFDcEMxQixLQUFLc0gsc0JBQXNCdkYsS0FBS29HLEdBR2xDM0ksV0FBV3VKLEdBQ1RBLEVBQUVDLGlCQUVGLE1BQU1DLEVBQVNGLEVBQUVFLE9BRWpCLEdBQUlBLEVBQU9DLGlCQUFpQkMsU0FBVSxDQUNwQyxNQUFNQyxFQUFPSCxFQUFPQyxNQUFNRyxLQUFLLElBQ3pCQyxLQUFFQSxHQUFTdEosS0FBS3VHLE1BQU0rQixNQUU1QjFJLEVBQUEsRUFBTTBHLFNBQVM3RyxPQUFBK0ksRUFBQSxFQUFBL0ksQ0FBYSxDQUFFNkosT0FBTUYsVUFDcENwSixLQUFLMEgsT0FDRlEsTUxqSUYvRCxFS2tJYW9DLEdBQVNBLEVBQU1xQixpQkxqSW5DLFNBQUFsSCxHQUE4QixPQUFBQSxFQUFBQyxLQUFBLElBQUF1RCxFQUFBQyxNS2tJcEI1RCxFQUFxQixDQUFDZ0osRUFBTXhILElBQVN3SCxFQUFLakIsTUFBTWtCLFlBQWN6SCxFQUFLdUcsTUFBTWtCLFdBQ3pFeEUsRUFBSyxJQUVOOUUsVUFBVSxJQUFNRixLQUFLd0gsb0JBQW9CekYsUUx0STNDLElBQUFvQyxFSzBJTDNFLGdCQUNFLE1BQU04SSxNQUFFQSxHQUFVdEksS0FBS3VHLE1BRW5CK0IsRUFBTW1CLFVBQ1I3SixFQUFBLEVBQU0wRyxTQUFTN0csT0FBQTJJLEVBQUEsRUFBQTNJLElBRWZHLEVBQUEsRUFBTTBHLFNBQVM3RyxPQUFBMkksRUFBQSxFQUFBM0ksSUFHakJPLEtBQUt3SCxvQkFBb0J6RixPQUczQnZDLGlCQUFpQnVKLEdBQ2ZuSixFQUFBLEVBQU0wRyxTQUFTN0csT0FBQTJJLEVBQUEsRUFBQTNJLENBQVVzSixFQUFFRSxPQUE0QnZILFFBQ3ZEMUIsS0FBS3dILG9CQUFvQnpGLE9BRzNCdkMsa0JBQWtCdUosR0FDaEJuSixFQUFBLEVBQU0wRyxTQUFTN0csT0FBQTJJLEVBQUEsRUFBQTNJLENBQVdzSixFQUFFRSxPQUE0QnZILFFBQ3hEMUIsS0FBS3dILG9CQUFvQnpGLE9BRzNCdkMsc0JBQXNCdUosR0FDcEJuSixFQUFBLEVBQU0wRyxTQUFTN0csT0FBQTJJLEVBQUEsRUFBQTNJLENBQWVzSixFQUFFRSxPQUE0QnZILFFBQzVEMUIsS0FBS3dILG9CQUFvQnpGLE9BRzNCdkMsNEJBQTRCdUosR0FDMUJuSixFQUFBLEVBQU0wRyxTQUFTN0csT0FBQTJJLEVBQUEsRUFBQTNJLENBQXFCc0osRUFBRUUsT0FBNEJ2SCxRQUNsRTFCLEtBQUt3SCxvQkFBb0J6RixPQUczQnZDLGlCQUFpQnVKLEdBQ2ZuSixFQUFBLEVBQU0wRyxTQUFTN0csT0FBQTJJLEVBQUEsRUFBQTNJLENBQVVzSixFQUFFRSxPQUE0QnZILFFBQ3ZEMUIsS0FBS3dILG9CQUFvQnpGLE9BRzNCdkMsaUJBQWlCdUosR0FDZm5KLEVBQUEsRUFBTTBHLFNBQVM3RyxPQUFBMkksRUFBQSxFQUFBM0ksQ0FBVXNKLEVBQUVFLE9BQTRCdkgsUUFDdkQxQixLQUFLd0gsb0JBQW9CekYsT0FHM0J2QyxxQkFDRUksRUFBQSxFQUFNMEcsU0FBUzdHLE9BQUEySSxFQUFBLEVBQUEzSSxJQUNmTyxLQUFLd0gsb0JBQW9CekYsT0FHbkJ2QyxhQUNGUSxLQUFLdUksVUFDUDNJLEVBQUEsRUFBTTBHLFNBQ0o3RyxPQUFBMkksRUFBQSxFQUFBM0ksQ0FBV08sS0FBSzBKLFdBQVlDLGVBQWUsWUFBb0MsS0FHakYzSixLQUFLMEgsT0FDRlEsS0FDQ3pJLE9BQUFrSixFQUFBLEVBQUFsSixDQUFPOEcsSUFBVUEsRUFBTXFELFNBQ3ZCNUUsRUFBSyxHQUNMUSxFQUFNLElBRVB0RixVQUFVcUcsSUFDVDNHLEVBQUEsRUFBTTBHLFNBQ0o3RyxPQUFBMkksRUFBQSxFQUFBM0ksQ0FDRU8sS0FBSzBKLFdBQVlDLGVBQWUsWUFDaENwRCxFQUFNK0IsTUFBTUgsYUFPeEIwQixvQkFDRSxNQUFPLENBQ0xDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0F6SyxFQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztTQTJFSkMsU0FDRSxNQUFNeUssRUFBY2pLLEtBQUt1SSxVQUFrRCxpQkFBMUJ2SSxLQUFLdUcsTUFBTStCLE1BQU1nQixRQUM1RE0sUUFBRUEsR0FBWTVKLEtBQUt1RyxNQUV6QixPQUFPaEgsRUFBQTs7Ozs7Ozs7OzttQkFVUVMsS0FBS2tLO2tCQUNObEssS0FBS2tLO29CQUNIbEssS0FBS2tLOztVQUVkTixFQXlMQ3JLLEVBQUE7Ozs7OztjQXhMQUEsRUFBQTs7a0JBRU1TLEtBQUt1RyxNQUFNK0IsTUFBTWtCLFVBQ2ZqSyxFQUFBOzs7d0RBR29DUyxLQUFLdUcsTUFBTStCLE1BQU1rQjs7c0JBR3JEVyxFQUFBOzs7O3dCQUlJNUssRUFBQTs7Ozs7O2tDQU1VUyxLQUFLNEgsaUJBQ0hySSxFQUFBOztzQ0FHQUEsRUFBQTs7Ozs7Ozs7eUNBUUtTLEtBQUt1RyxNQUFNK0IsTUFBTThCOzBDQUNoQnBLLEtBQUtxSzs7Ozs7Ozs7Ozs7eUNBV05ySyxLQUFLdUcsTUFBTStCLE1BQU1nQixNQUFRN0osT0FBQTZLLEVBQUEsRUFBQTdLLENBQVFPLEtBQUtvSzswQ0FDckNwSyxLQUFLdUs7Ozs7Ozs7Ozs7Ozs7eUNBYU52SyxLQUFLdUcsTUFBTStCLE1BQU1rQyxLQUFLQzswQ0FDckJ6SyxLQUFLMEs7Ozs7Ozs7d0VBT3lCMUssS0FBSzJLO3NDQUN2QyxDQUFDQyxFQUFBLEVBQWdCQyxHQUFJRCxFQUFBLEVBQWdCRSxJQUFJQyxJQUN6Q0MsR0FBUXpMLEVBQUE7O21EQUVLeUw7dURBQ0lBLElBQVNoTCxLQUFLdUcsTUFBTStCLE1BQU0wQzs2Q0FDcENBOzs7Ozs7Ozs7Ozs7O3lDQWNKaEwsS0FBS3VHLE1BQU0rQixNQUFNa0I7OzswQ0FHaEJ4SixLQUFLaUw7Ozs7Ozs2Q0FNRmpMLEtBQUt1RyxNQUFNK0IsTUFBTWtCLFdBQWF4SixLQUFLdUk7MENBQ3RDdkksS0FBS2tMOzs7Ozs7Ozs7O3lDQVVObEwsS0FBS3VHLE1BQU0rQixNQUFNNkMsV0FBYTswQ0FDN0JuTCxLQUFLb0w7Ozs7Ozs7Ozs7MENBVUxwTCxLQUFLcUw7O3lDQUVOckwsS0FBS3VHLE1BQU0rQixNQUFNZ0QsaUJBQW1COzs7Ozs7OzswQ0FRbkMsSUFBTXRMLEtBQUt3SCxvQkFBb0J6Rjs7Ozs7Ozs7eURBUWhCL0IsS0FBS3VHLE1BQU0rQixNQUFNbUIsVUFDdEMsYUFDQTswQ0FDTXpKLEtBQUt1TDs0Q0FDSHZMLEtBQUt1STs7a0NBRWZ2SSxLQUFLdUcsTUFBTStCLE1BQU1tQixVQUFZLGVBQWlCOzs7O2dDQUloRHpKLEtBQUt1RyxNQUFNcUMsR0FDVHJKLEVBQUE7Ozs4Q0FHWTBLO29EQUNNakssS0FBS3VHLE1BQU0rQixNQUFNOEI7Z0RBQ3JCM0ssT0FBQUMsRUFBQSxFQUFBRCxDQUFTd0s7Ozs7b0NBS3ZCRSxFQUFBOzs4QkFFSm5LLEtBQUt1RyxNQUFNMUUsTUFDVHRDLEVBQUE7O3NDQUVNUyxLQUFLdUcsTUFBTTFFOztrQ0FHakJzSSxFQUFBOzs7Ozs7OzBCQU9ObkssS0FBS3VHLE1BQU0rQixNQUFNOEIiLCJmaWxlIjoiYXBwLWFkbWluLmZmN2UzYjVmYjE2N2U3ZDA3NzhhLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuXG5leHBvcnQgY29uc3QgZm9ybVN0eWxlID0gY3NzYFxuICAuZmllbGQge1xuICAgIG1hcmdpbjogMTBweCAwO1xuICAgIGZvbnQtZmFtaWx5OiAnSUJNIFBsZXggU2FucycsIHNhbnMtc2VyaWY7XG4gIH1cblxuICAuZmllbGQgaW5wdXQsXG4gIC5maWVsZCB0ZXh0YXJlYSxcbiAgLmZpZWxkIHNlbGVjdCB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHBhZGRpbmc6IDZweCA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM2NjY7XG4gIH1cblxuICAuZmllbGQgaW5wdXQsXG4gIC5maWVsZCB0ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuZmllbGQgaW5wdXQ6Zm9jdXMsXG4gIC5maWVsZCB0ZXh0YXJlYTpmb2N1cyxcbiAgLmZpZWxkIHNlbGVjdDpmb2N1cyB7XG4gICAgb3V0bGluZTogMXB4IHNvbGlkICM2NjY7XG4gIH1cblxuICAubGFiZWwge1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICB9XG5gO1xuIiwiaW1wb3J0IHsgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcblxuaW1wb3J0IHsgbmF2aWdhdGUgfSBmcm9tICcuLi8uLi91dGlscy9uYXZpZ2F0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkbWluIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzdHlsZT5cbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgICAgPGV6LXBhZ2U+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwic2VjdGlvblwiPlxuICAgICAgICAgIDxoMSBjbGFzcz1cInRpdGxlXCI+QWRtaW48L2gxPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGJsb2NrXCJcbiAgICAgICAgICAgIGhyZWY9XCIvYWRtaW4vZHJhZnRcIlxuICAgICAgICAgICAgdGl0bGU9XCJTdGFydCB3cml0aW5nXCJcbiAgICAgICAgICAgIEBjbGljaz0ke25hdmlnYXRlKGAvYWRtaW4vZHJhZnRgKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBTdGFydCBhIG5ldyBkcmFmdFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8ZXotYXJ0aWNsZS1mZWVkIGFkbWluTW9kZT0ke3RydWV9PjwvZXotYXJ0aWNsZS1mZWVkPlxuICAgICAgPC9lei1wYWdlPlxuICAgIGA7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdlei1hZG1pbicsIEFkbWluKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4vKipcbiAgVGhpcyBpcyBhIEphdmFTY3JpcHQgbWl4aW4gdGhhdCB5b3UgY2FuIHVzZSB0byBjb25uZWN0IGEgQ3VzdG9tIEVsZW1lbnQgYmFzZVxuICBjbGFzcyB0byBhIFJlZHV4IHN0b3JlLiBUaGUgYHN0YXRlQ2hhbmdlZChzdGF0ZSlgIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gIHRoZSBzdGF0ZSBpcyB1cGRhdGVkLlxuXG4gIEV4YW1wbGU6XG5cbiAgICAgIGltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdwd2EtaGVscGVycy9jb25uZWN0LW1peGluLmpzJztcblxuICAgICAgY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgY29ubmVjdChzdG9yZSkoSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgc3RhdGVDaGFuZ2VkKHN0YXRlKSB7XG4gICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHN0YXRlLmRhdGEuY291bnQudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuKi9cbmV4cG9ydCBjb25zdCBjb25uZWN0ID0gKHN0b3JlKSA9PiAoYmFzZUVsZW1lbnQpID0+IGNsYXNzIGV4dGVuZHMgYmFzZUVsZW1lbnQge1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAoc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmVVbnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZSgoKSA9PiB0aGlzLnN0YXRlQ2hhbmdlZChzdG9yZS5nZXRTdGF0ZSgpKSk7XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkKHN0b3JlLmdldFN0YXRlKCkpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fc3RvcmVVbnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAoc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGBzdGF0ZUNoYW5nZWQoc3RhdGUpYCBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgc3RhdGUgaXMgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBzdGF0ZUNoYW5nZWQoX3N0YXRlKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LW1peGluLmpzLm1hcCIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJlLCBrZXlTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGlzdGluY3RVbnRpbENoYW5nZWRPcGVyYXRvcihjb21wYXJlLCBrZXlTZWxlY3RvcikpOyB9O1xufVxudmFyIERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzdGluY3RVbnRpbENoYW5nZWRPcGVyYXRvcihjb21wYXJlLCBrZXlTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuICAgICAgICB0aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgfVxuICAgIERpc3RpbmN0VW50aWxDaGFuZ2VkT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jb21wYXJlLCB0aGlzLmtleVNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGlzdGluY3RVbnRpbENoYW5nZWRPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGlzdGluY3RVbnRpbENoYW5nZWRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEaXN0aW5jdFVudGlsQ2hhbmdlZFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbXBhcmUsIGtleVNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5oYXNLZXkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wYXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBfdGhpcy5jb21wYXJlID0gY29tcGFyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHJldHVybiB4ID09PSB5O1xuICAgIH07XG4gICAgRGlzdGluY3RVbnRpbENoYW5nZWRTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGtleVNlbGVjdG9yID0gdGhpcy5rZXlTZWxlY3RvcjtcbiAgICAgICAgICAgIGtleSA9IGtleVNlbGVjdG9yID8ga2V5U2VsZWN0b3IodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmhhc0tleSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFyZSA9IHRoaXMuY29tcGFyZTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjb21wYXJlKHRoaXMua2V5LCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhc0tleSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERpc3RpbmN0VW50aWxDaGFuZ2VkU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3RVbnRpbENoYW5nZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF91dGlsX25vb3AsX3V0aWxfaXNGdW5jdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiB0YXAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiB0YXBPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IERvT3BlcmF0b3IobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkpO1xuICAgIH07XG59XG52YXIgRG9PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEb09wZXJhdG9yKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdGhpcy5uZXh0T3JPYnNlcnZlciA9IG5leHRPck9ic2VydmVyO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICB9XG4gICAgRG9PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRhcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5uZXh0T3JPYnNlcnZlciwgdGhpcy5lcnJvciwgdGhpcy5jb21wbGV0ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIERvT3BlcmF0b3I7XG59KCkpO1xudmFyIFRhcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVGFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGFwTmV4dCA9IG5vb3A7XG4gICAgICAgIF90aGlzLl90YXBFcnJvciA9IG5vb3A7XG4gICAgICAgIF90aGlzLl90YXBDb21wbGV0ZSA9IG5vb3A7XG4gICAgICAgIF90aGlzLl90YXBFcnJvciA9IGVycm9yIHx8IG5vb3A7XG4gICAgICAgIF90aGlzLl90YXBDb21wbGV0ZSA9IGNvbXBsZXRlIHx8IG5vb3A7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBfdGhpcztcbiAgICAgICAgICAgIF90aGlzLl90YXBOZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIF90aGlzLl9jb250ZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICBfdGhpcy5fdGFwTmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQgfHwgbm9vcDtcbiAgICAgICAgICAgIF90aGlzLl90YXBFcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yIHx8IG5vb3A7XG4gICAgICAgICAgICBfdGhpcy5fdGFwQ29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSB8fCBub29wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3RhcE5leHQuY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBUYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl90YXBFcnJvci5jYWxsKHRoaXMuX2NvbnRleHQsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIFRhcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3RhcENvbXBsZXRlLmNhbGwodGhpcy5fY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luYyA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfc2NoZWR1bGVyX2FzeW5jIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2VUaW1lKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZWJvdW5jZVRpbWVPcGVyYXRvcihkdWVUaW1lLCBzY2hlZHVsZXIpKTsgfTtcbn1cbnZhciBEZWJvdW5jZVRpbWVPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJvdW5jZVRpbWVPcGVyYXRvcihkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5kdWVUaW1lID0gZHVlVGltZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgfVxuICAgIERlYm91bmNlVGltZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVib3VuY2VUaW1lU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmR1ZVRpbWUsIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVib3VuY2VUaW1lT3BlcmF0b3I7XG59KCkpO1xudmFyIERlYm91bmNlVGltZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVib3VuY2VUaW1lU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmR1ZVRpbWUgPSBkdWVUaW1lO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIF90aGlzLmxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVib3VuY2VUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jbGVhckRlYm91bmNlKCk7XG4gICAgICAgIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLmFkZCh0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbiA9IHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTmV4dCwgdGhpcy5kdWVUaW1lLCB0aGlzKSk7XG4gICAgfTtcbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVib3VuY2VkTmV4dCgpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5kZWJvdW5jZWROZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNsZWFyRGVib3VuY2UoKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWUgPSB0aGlzLmxhc3RWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMubGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChsYXN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5jbGVhckRlYm91bmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb247XG4gICAgICAgIGlmIChkZWJvdW5jZWRTdWJzY3JpcHRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGRlYm91bmNlZFN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBkZWJvdW5jZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlYm91bmNlVGltZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChzdWJzY3JpYmVyKSB7XG4gICAgc3Vic2NyaWJlci5kZWJvdW5jZWROZXh0KCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJvdW5jZVRpbWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gc2tpcFdoaWxlKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgU2tpcFdoaWxlT3BlcmF0b3IocHJlZGljYXRlKSk7IH07XG59XG52YXIgU2tpcFdoaWxlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2tpcFdoaWxlT3BlcmF0b3IocHJlZGljYXRlKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgIH1cbiAgICBTa2lwV2hpbGVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNraXBXaGlsZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUpKTtcbiAgICB9O1xuICAgIHJldHVybiBTa2lwV2hpbGVPcGVyYXRvcjtcbn0oKSk7XG52YXIgU2tpcFdoaWxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTa2lwV2hpbGVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNraXBXaGlsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy5za2lwcGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTa2lwV2hpbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAodGhpcy5za2lwcGluZykge1xuICAgICAgICAgICAgdGhpcy50cnlDYWxsUHJlZGljYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc2tpcHBpbmcpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTa2lwV2hpbGVTdWJzY3JpYmVyLnByb3RvdHlwZS50cnlDYWxsUHJlZGljYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUodmFsdWUsIHRoaXMuaW5kZXgrKyk7XG4gICAgICAgICAgICB0aGlzLnNraXBwaW5nID0gQm9vbGVhbihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNraXBXaGlsZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNraXBXaGlsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF91dGlsX0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLF9vYnNlcnZhYmxlX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciB9IGZyb20gJy4uL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiB0YWtlKGNvdW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgVGFrZU9wZXJhdG9yKGNvdW50KSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxudmFyIFRha2VPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWtlT3BlcmF0b3IodG90YWwpIHtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICBpZiAodGhpcy50b3RhbCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBUYWtlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBUYWtlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnRvdGFsKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZU9wZXJhdG9yO1xufSgpKTtcbnZhciBUYWtlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUYWtlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYWtlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgdG90YWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvdGFsID0gdG90YWw7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWtlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy50b3RhbDtcbiAgICAgICAgdmFyIGNvdW50ID0gKyt0aGlzLmNvdW50O1xuICAgICAgICBpZiAoY291bnQgPD0gdG90YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRha2VTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzRGF0ZSxfU3Vic2NyaWJlcixfTm90aWZpY2F0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc0RhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5KGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHZhciBhYnNvbHV0ZURlbGF5ID0gaXNEYXRlKGRlbGF5KTtcbiAgICB2YXIgZGVsYXlGb3IgPSBhYnNvbHV0ZURlbGF5ID8gKCtkZWxheSAtIHNjaGVkdWxlci5ub3coKSkgOiBNYXRoLmFicyhkZWxheSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZWxheU9wZXJhdG9yKGRlbGF5Rm9yLCBzY2hlZHVsZXIpKTsgfTtcbn1cbnZhciBEZWxheU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5T3BlcmF0b3IoZGVsYXksIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgIH1cbiAgICBEZWxheU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVsYXlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZGVsYXksIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsYXlPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVsYXlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERlbGF5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWxheVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMucXVldWUgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWxheVN1YnNjcmliZXIuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHN0YXRlLnNvdXJjZTtcbiAgICAgICAgdmFyIHF1ZXVlID0gc291cmNlLnF1ZXVlO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gc3RhdGUuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSBzdGF0ZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgKHF1ZXVlWzBdLnRpbWUgLSBzY2hlZHVsZXIubm93KCkpIDw9IDApIHtcbiAgICAgICAgICAgIHF1ZXVlLnNoaWZ0KCkubm90aWZpY2F0aW9uLm9ic2VydmUoZGVzdGluYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZGVsYXlfMSA9IE1hdGgubWF4KDAsIHF1ZXVlWzBdLnRpbWUgLSBzY2hlZHVsZXIubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShzdGF0ZSwgZGVsYXlfMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzb3VyY2UuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX3NjaGVkdWxlID0gZnVuY3Rpb24gKHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoRGVsYXlTdWJzY3JpYmVyLmRpc3BhdGNoLCB0aGlzLmRlbGF5LCB7XG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMsIGRlc3RpbmF0aW9uOiB0aGlzLmRlc3RpbmF0aW9uLCBzY2hlZHVsZXI6IHNjaGVkdWxlclxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLnNjaGVkdWxlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5lcnJvcmVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBEZWxheU1lc3NhZ2Uoc2NoZWR1bGVyLm5vdygpICsgdGhpcy5kZWxheSwgbm90aWZpY2F0aW9uKTtcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVOb3RpZmljYXRpb24oTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVOb3RpZmljYXRpb24oTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsYXlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgRGVsYXlNZXNzYWdlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5TWVzc2FnZSh0aW1lLCBub3RpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBub3RpZmljYXRpb247XG4gICAgfVxuICAgIHJldHVybiBEZWxheU1lc3NhZ2U7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oK3ZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXBcbiIsImltcG9ydCB7IGNzcywgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IG5vdGhpbmcgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncHdhLWhlbHBlcnMnO1xuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBkZWJvdW5jZVRpbWUsXG4gIGRlbGF5LFxuICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgZmlsdGVyLFxuICBza2lwV2hpbGUsXG4gIHRha2UsXG4gIHRhcCxcbiAgd2l0aExhdGVzdEZyb20sXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHsgQXJ0aWNsZUxhbmd1YWdlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc2VydmVyL3NyYy9hcGkvYXJ0aWNsZS9tb2RlbC9hcnRpY2xlLWxhbmd1YWdlJztcbmltcG9ydCB7IEFwcFN0YXRlIH0gZnJvbSAnLi4vLi4vY29yZS9zdG9yZS9zdGF0ZSc7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uLy4uL2NvcmUvc3RvcmUvc3RvcmUnO1xuaW1wb3J0IHsgYnV0dG9uU3R5bGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvYnV0dG9uJztcbmltcG9ydCB7IGZvcm1TdHlsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9mb3JtJztcbmltcG9ydCB7IHNsdWdpZnkgfSBmcm9tICcuLi8uLi9zaGFyZWQvc2x1Z2lmeSc7XG5pbXBvcnQgeyBuYXZpZ2F0ZSB9IGZyb20gJy4uLy4uL3V0aWxzL25hdmlnYXRlJztcbmltcG9ydCB7IERyYWZ0U3RhdGUgfSBmcm9tICcuL3N0b3JlL2FkbWluLnN0YXRlJztcbmltcG9ydCB7IGNsZWFyRHJhZnQsIGNyZWF0ZURyYWZ0LCB1cGRhdGVEcmFmdCwgdXBsb2FkUG9zdGVyIH0gZnJvbSAnLi9zdG9yZS9hcGkuYWN0aW9ucyc7XG5pbXBvcnQge1xuICBkZVB1Ymxpc2gsXG4gIGVkaXRMYW5nLFxuICBlZGl0TWFya2Rvd24sXG4gIGVkaXRNZXRhRGVzY3JpcHRpb24sXG4gIGVkaXRNZXRhVGl0bGUsXG4gIGVkaXRTbHVnLFxuICBlZGl0VGFncyxcbiAgZWRpdFRpdGxlLFxuICBsb2FkRWRpdG9yLFxuICBwdWJsaXNoLFxuICByZW1vdmVQb3N0ZXIsXG59IGZyb20gJy4vc3RvcmUvZWRpdG9yLmFjdGlvbnMnO1xuaW1wb3J0IHsgQXJ0aWNsZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgY2FyZFN0eWxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NhcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFmdENvbXBvbmVudCBleHRlbmRzIGNvbm5lY3Qoc3RvcmUpKExpdEVsZW1lbnQpIHtcbiAgbWFya2Rvd25DaGFuZ2VTdWJqZWN0ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xuICBtYXJrZG93bkNoYW5nZVN1YjogU3Vic2NyaXB0aW9uO1xuXG4gIHVwZGF0ZUNoYW5nZVN1YmplY3QgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuICB1cGRhdGVDaGFuZ2VTdWI6IFN1YnNjcmlwdGlvbjtcblxuICBzdGF0ZVN1YmplY3QgPSBuZXcgU3ViamVjdDxEcmFmdFN0YXRlPigpO1xuICBzdGF0ZSQgPSB0aGlzLnN0YXRlU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgc3RhdGU6IERyYWZ0U3RhdGU7XG5cbiAgaXNSZXF1ZXN0UGVuZGluZyA9IGZhbHNlO1xuICByZXF1ZXN0U3ViamVjdCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gIHJlcXVlc3RTdWI6IFN1YnNjcmlwdGlvbjtcblxuICBzdGF0ZUNoYW5nZWQoc3RhdGU6IEFwcFN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlLmFkbWluO1xuICAgIHRoaXMuc3RhdGVTdWJqZWN0Lm5leHQoc3RhdGUuYWRtaW4pO1xuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnc3RhdGUnKTtcbiAgfVxuXG4gIGZpcnN0VXBkYXRlZCgpIHtcbiAgICB0aGlzLmluaXRFZGl0b3IoKTtcblxuICAgIHRoaXMubWFya2Rvd25DaGFuZ2VTdWIgPSB0aGlzLm1hcmtkb3duQ2hhbmdlU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgICAgdGFwKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmlzUmVxdWVzdFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnaXNSZXF1ZXN0UGVuZGluZycpO1xuICAgICAgICB9KSxcbiAgICAgICAgZGVib3VuY2VUaW1lKDMwMClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUobWFya2Rvd24gPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChlZGl0TWFya2Rvd24obWFya2Rvd24pKTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFuZ2VTdWJqZWN0Lm5leHQoKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVDaGFuZ2VTdWIgPSB0aGlzLnVwZGF0ZUNoYW5nZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoXG4gICAgICAgIHRhcCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pc1JlcXVlc3RQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ2lzUmVxdWVzdFBlbmRpbmcnKTtcbiAgICAgICAgfSksXG4gICAgICAgIGRlYm91bmNlVGltZSgzMDApXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0U3ViamVjdC5uZXh0KCk7XG4gICAgICAgIGNvbnN0IHsgZHJhZnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuaXNEcmFmdCgpXG4gICAgICAgICAgPyBzdG9yZS5kaXNwYXRjaChjcmVhdGVEcmFmdChkcmFmdCkpXG4gICAgICAgICAgOiBzdG9yZS5kaXNwYXRjaCh1cGRhdGVEcmFmdChkcmFmdCBhcyBBcnRpY2xlKSk7XG4gICAgICB9KTtcblxuICAgIHRoaXMucmVxdWVzdFN1YiA9IHRoaXMucmVxdWVzdFN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKHRoaXMuc3RhdGUkKSxcbiAgICAgICAgZmlsdGVyKChbLCBzdGF0ZV0pID0+ICFzdGF0ZS5pc1JlcXVlc3RQZW5kaW5nKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiAodGhpcy5pc1JlcXVlc3RQZW5kaW5nID0gZmFsc2UpKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHRoaXMubWFya2Rvd25DaGFuZ2VTdWIudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLnJlcXVlc3RTdWIudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLnVwZGF0ZUNoYW5nZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgIHN0b3JlLmRpc3BhdGNoKGNsZWFyRHJhZnQoKSk7XG4gIH1cblxuICBpc0RyYWZ0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5zdGF0ZS5pZCAhPT0gJ3N0cmluZyc7XG4gIH1cblxuICBoYW5kbGVNYXJrZG93bkNoYW5nZShfZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgbWFya2Rvd24gPSB0aGlzLnN0YXRlLmVkaXRvciEudmFsdWUoKTtcbiAgICB0aGlzLm1hcmtkb3duQ2hhbmdlU3ViamVjdC5uZXh0KG1hcmtkb3duKTtcbiAgfVxuXG4gIGhhbmRsZUZpbGUoZTogRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gICAgaWYgKHRhcmdldC5maWxlcyBpbnN0YW5jZW9mIEZpbGVMaXN0KSB7XG4gICAgICBjb25zdCBmaWxlID0gdGFyZ2V0LmZpbGVzLml0ZW0oMCkhO1xuICAgICAgY29uc3QgeyBzbHVnIH0gPSB0aGlzLnN0YXRlLmRyYWZ0O1xuXG4gICAgICBzdG9yZS5kaXNwYXRjaCh1cGxvYWRQb3N0ZXIoeyBzbHVnLCBmaWxlIH0pKTtcbiAgICAgIHRoaXMuc3RhdGUkXG4gICAgICAgIC5waXBlKFxuICAgICAgICAgIHNraXBXaGlsZShzdGF0ZSA9PiBzdGF0ZS5pc1JlcXVlc3RQZW5kaW5nKSxcbiAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgocHJldiwgbmV4dCkgPT4gcHJldi5kcmFmdC5wb3N0ZXJVcmwgIT09IG5leHQuZHJhZnQucG9zdGVyVXJsKSxcbiAgICAgICAgICB0YWtlKDEpXG4gICAgICAgIClcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZUNoYW5nZVN1YmplY3QubmV4dCgpKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVQdWJsaXNoKCkge1xuICAgIGNvbnN0IHsgZHJhZnQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAoZHJhZnQucHVibGlzaGVkKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChkZVB1Ymxpc2goKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHB1Ymxpc2goKSk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVDaGFuZ2VTdWJqZWN0Lm5leHQoKTtcbiAgfVxuXG4gIGhhbmRsZVRhZ3NDaGFuZ2UoZTogRXZlbnQpOiB2b2lkIHtcbiAgICBzdG9yZS5kaXNwYXRjaChlZGl0VGFncygoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUNoYW5nZVN1YmplY3QubmV4dCgpO1xuICB9XG5cbiAgaGFuZGxlVGl0bGVDaGFuZ2UoZTogRXZlbnQpOiB2b2lkIHtcbiAgICBzdG9yZS5kaXNwYXRjaChlZGl0VGl0bGUoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVDaGFuZ2VTdWJqZWN0Lm5leHQoKTtcbiAgfVxuXG4gIGhhbmRsZU1ldGFUaXRsZUNoYW5nZShlOiBFdmVudCk6IHZvaWQge1xuICAgIHN0b3JlLmRpc3BhdGNoKGVkaXRNZXRhVGl0bGUoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVDaGFuZ2VTdWJqZWN0Lm5leHQoKTtcbiAgfVxuXG4gIGhhbmRsZU1ldGFEZXNjcmlwdGlvbkNoYW5nZShlOiBFdmVudCk6IHZvaWQge1xuICAgIHN0b3JlLmRpc3BhdGNoKGVkaXRNZXRhRGVzY3JpcHRpb24oKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVDaGFuZ2VTdWJqZWN0Lm5leHQoKTtcbiAgfVxuXG4gIGhhbmRsZUxhbmdDaGFuZ2UoZTogRXZlbnQpOiB2b2lkIHtcbiAgICBzdG9yZS5kaXNwYXRjaChlZGl0TGFuZygoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgYXMgQXJ0aWNsZUxhbmd1YWdlKSk7XG4gICAgdGhpcy51cGRhdGVDaGFuZ2VTdWJqZWN0Lm5leHQoKTtcbiAgfVxuXG4gIGhhbmRsZVNsdWdDaGFuZ2UoZTogRXZlbnQpOiB2b2lkIHtcbiAgICBzdG9yZS5kaXNwYXRjaChlZGl0U2x1ZygoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUNoYW5nZVN1YmplY3QubmV4dCgpO1xuICB9XG5cbiAgaGFuZGxlUmVtb3ZlUG9zdGVyKCk6IHZvaWQge1xuICAgIHN0b3JlLmRpc3BhdGNoKHJlbW92ZVBvc3RlcigpKTtcbiAgICB0aGlzLnVwZGF0ZUNoYW5nZVN1YmplY3QubmV4dCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0RWRpdG9yKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRHJhZnQoKSkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIGxvYWRFZGl0b3IodGhpcy5zaGFkb3dSb290IS5nZXRFbGVtZW50QnlJZCgnbWFya2Rvd24nKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50LCAnJylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUkXG4gICAgICAgIC5waXBlKFxuICAgICAgICAgIGZpbHRlcihzdGF0ZSA9PiAhc3RhdGUubG9hZGluZyksXG4gICAgICAgICAgdGFrZSgxKSxcbiAgICAgICAgICBkZWxheSgxKSAvLyB3YWl0IHJlbmRlcmluZ1xuICAgICAgICApXG4gICAgICAgIC5zdWJzY3JpYmUoc3RhdGUgPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgbG9hZEVkaXRvcihcbiAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290IS5nZXRFbGVtZW50QnlJZCgnbWFya2Rvd24nKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50LFxuICAgICAgICAgICAgICBzdGF0ZS5kcmFmdC5tYXJrZG93blxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBjYXJkU3R5bGUsXG4gICAgICBidXR0b25TdHlsZSxcbiAgICAgIGZvcm1TdHlsZSxcbiAgICAgIGNzc2BcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG5cbiAgICAgICAgLmxvYWRpbmcge1xuICAgICAgICAgIHBhZGRpbmctdG9wOiA1cmVtO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBjb2xvcjogIzRmNGY0ZjtcbiAgICAgICAgICBmb250LWZhbWlseTogJ0lCTSBQbGV4IFNhbnMnLCBDYW1icmlhLCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG5cbiAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICBwYWRkaW5nOiA2cHggNHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNkZDQ2NDY7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jb2x1bW5zIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmlzLWhhbGYge1xuICAgICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgICAgbWF4LXdpZHRoOiA3NDBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pcy1vbmUtdGhpcmQge1xuICAgICAgICAgIHdpZHRoOiAyNSU7XG4gICAgICAgICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XG4gICAgICAgIH1cblxuICAgICAgICAuZHJhZnQtY29uZmlndXJhdGlvbiB7XG4gICAgICAgICAgcG9zaXRpb246IHN0aWNreTtcbiAgICAgICAgICB0b3A6IDE2cHg7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMjZweDtcbiAgICAgICAgICBmb250LWZhbWlseTogJ0lCTSBQbGV4IFNhbnMnLCBDYW1icmlhLCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNtLWNvbW1lbnQge1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnRmlyYSBDb2RlJywgJ0ZpcmEgTW9ubycsIG1vbm9zcGFjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wb3N0ZXIge1xuICAgICAgICAgIGhlaWdodDogNDAwcHg7XG4gICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gICAgICAgIH1cblxuICAgICAgICAucmlnaHQge1xuICAgICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbiBzdmcge1xuICAgICAgICAgIGZpbGw6ICMxN2E5MTc7XG4gICAgICAgICAgd2lkdGg6IDIycHg7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZmllbGQgLmJ1dHRvbiB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cblxuICAgICAgICAubG9hZGVyIHtcbiAgICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBhcnRpY2xlVXJpID0gIXRoaXMuaXNEcmFmdCgpID8gYC9hcnRpY2xlLyR7dGhpcy5zdGF0ZS5kcmFmdC5zbHVnfWAgOiBudWxsO1xuICAgIGNvbnN0IHsgbG9hZGluZyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGxpbmtcbiAgICAgICAgaHJlZj1cImh0dHBzOi8vc3RhY2twYXRoLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNy4wL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzc1wiXG4gICAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxuICAgICAgLz5cbiAgICAgIDxsaW5rIGhyZWY9XCJhc3NldHMvY3NzL3NpbXBsZW1kZS5jc3NcIiByZWw9XCJzdHlsZXNoZWV0XCIgLz5cbiAgICAgIDxsaW5rIGhyZWY9XCJhc3NldHMvY3NzL2RlYnVnLXNpbXBsZW1kZS5jc3NcIiByZWw9XCJzdHlsZXNoZWV0XCIgLz5cblxuICAgICAgPGV6LW5hdmJhcj48L2V6LW5hdmJhcj5cbiAgICAgIDxmb3JtXG4gICAgICAgIEBjaGFuZ2U9XCIke3RoaXMuaGFuZGxlTWFya2Rvd25DaGFuZ2V9XCJcbiAgICAgICAgQGlucHV0PVwiJHt0aGlzLmhhbmRsZU1hcmtkb3duQ2hhbmdlfVwiXG4gICAgICAgIEBrZXlkb3duPVwiJHt0aGlzLmhhbmRsZU1hcmtkb3duQ2hhbmdlfVwiXG4gICAgICA+XG4gICAgICAgICR7IWxvYWRpbmdcbiAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgJHt0aGlzLnN0YXRlLmRyYWZ0LnBvc3RlclVybFxuICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicG9zdGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke3RoaXMuc3RhdGUuZHJhZnQucG9zdGVyVXJsfScpXCJcbiAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgIDogbm90aGluZ31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1ucyBzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtb25lLXRoaXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWZ0LWNvbmZpZ3VyYXRpb24gY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbFwiIGZvcj1cInRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlRpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5pc1JlcXVlc3RQZW5kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRlclwiPuKMm++4jzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG9hZGVyXCI+8J+RjDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuc3RhdGUuZHJhZnQudGl0bGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGlucHV0PVwiJHt0aGlzLmhhbmRsZVRpdGxlQ2hhbmdlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbFwiIGZvcj1cInNsdWdcIj5TbHVnPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInNsdWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwic2x1Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7dGhpcy5zdGF0ZS5kcmFmdC5zbHVnIHx8IHNsdWdpZnkodGhpcy50aXRsZSl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGlucHV0PVwiJHt0aGlzLmhhbmRsZVNsdWdDaGFuZ2V9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImxhYmVsXCIgZm9yPVwidGFnc1wiPlRhZ3M8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwidGFnc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ0YWdzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJhcmNoaXRlY3R1cmUsIHRlc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7dGhpcy5zdGF0ZS5kcmFmdC50YWdzLnRvU3RyaW5nKCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGlucHV0PVwiJHt0aGlzLmhhbmRsZVRhZ3NDaGFuZ2V9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbFwiIGZvcj1cImxhbmdcIj5MYW5nPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IHJlcXVpcmVkIGlkPVwibGFuZ1wiIEBjaGFuZ2U9XCIke3RoaXMuaGFuZGxlTGFuZ0NoYW5nZX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7W0FydGljbGVMYW5ndWFnZS5GUiwgQXJ0aWNsZUxhbmd1YWdlLkVOXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7bGFuZ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP3NlbGVjdGVkPVwiJHtsYW5nID09PSB0aGlzLnN0YXRlLmRyYWZ0Lmxhbmd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4ke2xhbmd9PC9vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbFwiIGZvcj1cInBvc3RlclwiPlBvc3RlcjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInBvc3RlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7dGhpcy5zdGF0ZS5kcmFmdC5wb3N0ZXJVcmx9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInBvc3RlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdD1cImltYWdlL3BuZywgaW1hZ2UvanBlZywgaW1hZ2UvZ2lmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGlucHV0PVwiJHt0aGlzLmhhbmRsZUZpbGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnV0dG9uIGlzLXdhcm5pbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ZGlzYWJsZWQ9JHshdGhpcy5zdGF0ZS5kcmFmdC5wb3N0ZXJVcmwgfHwgdGhpcy5pc0RyYWZ0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIiR7dGhpcy5oYW5kbGVSZW1vdmVQb3N0ZXJ9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VwcHJpbWVyIGxlIHBvc3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbFwiIGZvcj1cInRpdGxlXCI+TWV0YSB0aXRsZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJtZXRhVGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibWV0YVRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuc3RhdGUuZHJhZnQubWV0YVRpdGxlIHx8ICcnfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpbnB1dD1cIiR7dGhpcy5oYW5kbGVNZXRhVGl0bGVDaGFuZ2V9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbFwiIGZvcj1cIm1ldGFEZXNjcmlwdGlvblwiPk1ldGEgZGVzY3JpcHRpb248L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibWV0YURlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm1ldGFEZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpbnB1dD1cIiR7dGhpcy5oYW5kbGVNZXRhRGVzY3JpcHRpb25DaGFuZ2V9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLnN0YXRlLmRyYWZ0Lm1ldGFEZXNjcmlwdGlvbiB8fCAnJ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidXR0b24gaXMtYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCIkeygpID0+IHRoaXMudXBkYXRlQ2hhbmdlU3ViamVjdC5uZXh0KCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyTIFNhdXZlZ2FyZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnV0dG9uIGlzLWJsb2NrICR7dGhpcy5zdGF0ZS5kcmFmdC5wdWJsaXNoZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdpcy13YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2lzLWluZm8nfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIiR7dGhpcy50b2dnbGVQdWJsaXNofVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID9kaXNhYmxlZD0ke3RoaXMuaXNEcmFmdCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuc3RhdGUuZHJhZnQucHVibGlzaGVkID8gJ/CflJIgRMOpcHVibGllcicgOiAn8J+UkyBQdWJsaWVyJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnN0YXRlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiJHthcnRpY2xlVXJpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiTGlyZSAke3RoaXMuc3RhdGUuZHJhZnQudGl0bGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiJHtuYXZpZ2F0ZShhcnRpY2xlVXJpISl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+RgSBQcsOpdmlzdWFsaXNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBub3RoaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5zdGF0ZS5lcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZCBlcnJvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5vdGhpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtaGFsZlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzcz1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuc3RhdGUuZHJhZnQudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibWFya2Rvd25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm1hcmtkb3duXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9XCIyMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzPVwiNzBcIlxuICAgICAgICAgICAgICAgICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+XG4gICAgICAgICAgICAgICAgSW5pdGlhbGlzYXRpb24gZGUgbCdlc3BhY2UgdGVtcHMsIDxiciAvPlxuICAgICAgICAgICAgICAgIGNoYXJnZW1lbnQgZGUgbGEgbWF0cmljZSBxdWFudGlxdWUsIDxiciAvPlxuICAgICAgICAgICAgICAgIGTDqWNvbXBvc2l0aW9uIGRlIGxhIG1hdGnDqHJlLlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGB9XG4gICAgICA8L2Zvcm0+XG4gICAgYDtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2V6LWRyYWZ0JywgRHJhZnRDb21wb25lbnQpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==